<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3470 HealthCare & Medical Coding Training Institute | Forgot Password - Login Page</title>

  <!-- Favicon -->
  <link rel="icon" href="picture/Logo3470-health3 (2).jpg" type="image/x-icon">

  <!-- Css - Styles -->
  <link rel="stylesheet" href="styles.css" />

  <style>
    * {
      box-sizing: border-box;
      font-family: Arial, sans-serif;
    }

    body {
      height: 100vh;
      background: linear-gradient(to right, #b7d3c2, #3c8c5a);
      display: flex;
      align-items: center;
      justify-content: center;
      
    }
    
  </style>
</head>

<body>

  <div class="forgot-password-container">

    <!-- RIGHT SIDE -->
    <div class="forgot-password-right">
      <div class="forgot-password-logo-box">
        <img src="picture/Logo3470-health3-removebg-preview.png" alt="Company Logo">
        <h3>Welcome Back !</h3>
        <p>Reset your password and continue securely</p>
      </div>
    </div>

    <!-- LEFT SIDE -->
    <div class="forgot-password-left">
      <h2>Forgot Password</h2>
      <p>Enter your registered email to receive a reset link</p>

      <form id="forgotForm" class="forgot-btn">
        <div class="forgot-password-input-group">
          <input type="email" id="email" placeholder="Email" required />
        </div>

        <button type="submit">SEND RESET LINK</button>
        <p class="forgot-msg" id="forgot-msg"></p>
        <a href="login.html" class="forgot-back">← Back to Login →</a>
      </form>
    </div>

  </div>

<!-- Javascript -->
<script src="config.js" defer></script>
<script src="main.js" defer></script>

<!-- Forgot - Password  -->
<script>

document.getElementById("forgotForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const email = document.getElementById("email").value;
  const msg = document.getElementById("forgot-msg");

  fetch("http://localhost:3000/api/forgot-password", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ email })
  })
  .then(res => res.json())
  .then(data => {
    if (data.success) {
      window.location.href = `otp_verify.html?email=${email}`;
    } else {
      msg.textContent = "Email not registered";
      msg.style.color = "red";
    }
  })
  .catch(() => {
    msg.textContent = "Server error";
  });
});

</script>


</body>
</html>

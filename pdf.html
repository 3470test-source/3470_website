<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>


/* Fullscreen Modal */
.modal {
  display:none;
  position:fixed;
  top:0; left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.7);
  z-index:9999;
}

/* Modal Content */
.modal-content {
  position:relative;
  margin:2% auto;
  background:#fff;
  padding:0;
  width:95%;
  height:95%;
  overflow:hidden;
  border-radius:8px;
}

/* Close Button */
.close {
  position:absolute;
  top:10px;
  right:20px;
  font-size:30px;
  cursor:pointer;
  z-index:10;
}



</style>

</head>
<body>



  <div id="loginContainer">
    <h2>Enter Password to Watch Video</h2>
    <input type="password" id="passwordInput" placeholder="Enter password">
    <button id="submitBtn">Submit</button>
    <p id="errorMsg" style="color:red;"></p>
</div>

<div id="videoContainer" style="display:none;">
    <video id="secureVideo" width="640" controls>
        <source src="" type="video/mp4">
    </video>
</div>

<script>
  const submitBtn = document.getElementById("submitBtn");
const passwordInput = document.getElementById("passwordInput");
const errorMsg = document.getElementById("errorMsg");
const videoContainer = document.getElementById("videoContainer");
const video = document.getElementById("secureVideo");

submitBtn.onclick = async () => {
    const password = passwordInput.value;

    // Call backend to validate password and get video URL
    const response = await fetch("/getVideoLink", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ password })
    });

    const data = await response.json();

    if (data.success) {
        // Show video
        video.src = data.videoUrl;
        videoContainer.style.display = "block";
        document.getElementById("loginContainer").style.display = "none";
    } else {
        errorMsg.textContent = "Invalid password!";
    }
};

// Disable right-click & download
video.addEventListener("contextmenu", e => e.preventDefault());
video.setAttribute("controlsList", "nodownload");
video.setAttribute("disablePictureInPicture", true);

</script>


  

<!-- <button onclick="openPDF()" class="pdf-btn">
  üìÑ View PDF
</button>

<script>
function openPDF() {
  // Owner permission check
  let permission = confirm("üîê Owner approval required.\n\nDo you want to allow viewing this PDF?");
  
  if(permission) {
    // Allowed ‚Üí Open PDF
    window.open("pdf_file/MS-SQL Installation.pdf#toolbar=0&navpanes=0&scrollbar=0", "_blank");
  } else {
    // Not allowed ‚Üí Show alert
    alert("‚ùå Permission denied by owner.");
  }
}
</script>
 -->



    <!-- <button onclick="openPDF()" class="pdf-btn">üìÑ View PDF</button>

    <div id="pdfModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closePDF()">&times;</span> -->

    <!-- Watermark -->
    <!-- <div class="watermark">CONFIDENTIAL ‚Ä¢ VIEW ONLY</div> -->

    <!-- PDF Viewer -->
    <!-- <iframe id="pdfFrame"
      src="pdf_file/MS-SQL Installation.pdf#toolbar=0&navpanes=0&scrollbar=0"
      style="width:100%; height:90vh; border:none;">
    </iframe>
  </div>
</div> -->


<!-- <script>
function openPDF() {
  document.getElementById('pdfModal').style.display = "block";
}

function closePDF() {
  document.getElementById('pdfModal').style.display = "none";
}

/* Disable Right Click */
document.addEventListener('contextmenu', event => {
  if (document.getElementById("pdfModal").style.display === "block") {
    event.preventDefault();
  }
});

/* Block Print (Ctrl+P), Save (Ctrl+S), Screenshot (PrtSc cannot be blocked fully) */
document.addEventListener('keydown', function(e) {
  if (e.ctrlKey && (e.key === 's' || e.key === 'p')) {
    e.preventDefault();
  }
});
</script> -->

    
</body>
</html>